<div class="panel-title">
  <iconify-icon icon="solar:playlist-minimalistic-2-line-duotone"></iconify-icon>
  <h2>Crear lista</h2>
</div>
<form class="create-form" [formGroup]="createListForm()" (ngSubmit)="onCreatePlaylist()">
  <input id="playlistName" type="text" formControlName="name" placeholder="Nombre para tu lista" />

  @if (createListForm().controls['name'].invalid && createListForm().controls['name'].touched) {
  <span class="field-error">Nombre demasiado corto</span>
  }

  <button type="submit" [disabled]="createListForm().invalid || creatingPlaylist()">
    {{ creatingPlaylist() ? 'Creando...' : 'Crear lista' }}
  </button>
</form>

<div class="playlist-summary">
  <h3 class="subheading">
    <iconify-icon icon="solar:music-library-2-line-duotone"></iconify-icon>
    <span>Mis listas</span>
  </h3>
  <div class="playlist-list-scroll">
    @for (playlist of playlists(); track playlist.id) {
    <button
      type="button"
      class="playlist-item"
      [class.active]="selectedPlaylistId() === playlist.id"
      (click)="onOpenPlaylist(playlist.id)"
    >
      <span class="name">{{ playlist.listName }}</span>
      <span class="meta">{{ playlist.songCount }} canciones</span>
    </button>
    } @empty {
    <p class="empty">Todav√≠a no tienes listas creadas.</p>
    }
  </div>
</div>
